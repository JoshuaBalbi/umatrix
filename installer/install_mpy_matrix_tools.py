# Paste this script in an empty Python project
# Run once to install
# Warning: it can take a while to download and start. Be patient.
# Watch console output to check progress.
# After reboot DO NOT LET THE SOFTWARE UPDATE YOUR HUB
# Works with the LEGO SPIKE app and the LEGO MINDSTORMS app

from ubinascii import hexlify, a2b_base64
from uhashlib import sha256
from os import mkdir


encoded=(('matrix_v3.mpy', ('TQUCHyCSQLAQZAAHHi4uL21hdHJpeF92My5weTA5cIAMhRCFEYUNhR+FDIv+Hx8fHx8fHy4fHyYrS4UHhQeFB4UQMSgyKDIoMgCAEAphcnJheSoBGwEcARYBWYAQAmUQBmxvZyoCGwpjbWF0aBwFFgEcBRYBWYAQCHNxcnQqARsIbWF0aBwDFgFZMgQWIGdldF9tYXRyaXhfbWlub3IyBRYkZGV0ZXJtaW5hbnRfaGVscGVyMgYWIHRyYW5zcG9zZV9tYXRyaXgyBxYcaW52ZXJzZV9oZWxwZXIyCBYQaWRlbnRpdHlUMgkQDE1hdHJpeDQCFgEigioigFgigHErAw==\n', 'IoN1IoETIoE6KwMigwMigG0igQ4rAyKCFCKAViKAbysDIoM9IoEFIoEsKwMihEgigS0igV8rAyKEOyKBPiKBbSsDIoRDIoFwIoIaKwMigxsigHYigRsrAyKAYCKBLCKBDisDIoBDIoEuIoEBKwMiOyKBFSKAbysDIoBJIoEMIoBvKwMigGQiggMigTsrAyKAbyKBZiKBMisDIoESIoIJIoFYKwMigXEiglsigi0rAyI2IoESIoBoKwMigGMigVgigSYrAyKBOyKCGiKBcSsDoiKAQiI2KwMrFRYEeHMigTIigTIigTIigTIigTIigTIigTIigTIigTIigmEigmEigg==\n', 'YSKCYSKCYSKCYSKCYSKCYSKCYSKCYSKCYSKCYSsVFgR5cxEFEQU0ARYEWHMRBREHNAEWBFlzMgoWEmdldF9hbHBoYTILFhxsaW5fcmVncmVzc2lvbjIMFh5wb2x5X3JlZ3Jlc3Npb24yDRYGTERGEQB7EQURDxELNAI0AVkRAHsjADQBWREAexEJEQURBYI0AzQBWREAeyMBNAFZEQB7EQURBREFgzQDNAFZEQB7IwI0AVkRAHsRBREFEQWENAM0AVkRAHsjAzQBWVFjBApzGmxpbmVhciByZWdyZXNzaW9uIGNvbXBsZXRlcyFwb2x5bm9taWFsKDIpIHJlZ3Jlcw==\n', 'c2lvbiBjb21wbGV0ZXMhcG9seW5vbWlhbCgzKSByZWdyZXNzaW9uIGNvbXBsZXRlcyFwb2x5bm9taWFsKDQpIHJlZ3Jlc3Npb24gY29tcGxldGWDBNAEmoABGymAEjErKyQtMQAAAQIDsLGysyAEBBIAfCUDNAE0AcQSAGu0NAGB10QLgBIAeyUAJQO0NANZtIBVxRIAa7Q0AYFCDIBXJwG1tCUBVfLFgeVYWtdD7n9ZWbVjAAEGYXJyAmkCagJughT5BA4UPGxpc3Rjb21wPguAEgArALRfSzMAxbUlAdxE9X8lACUDtfQlA7X0JQLyLgJVJQAlA7X0JQLygfIlAw==\n', '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\n'), '4182cc221ba518f2d9708308d4e608f49ae232075b4b331ecf7a79bfdad19878'), ('matrix_v2.mpy', ('TQUCHyCLMKCgEEAABx4uLi9tYXRyaXhfdjIucHkwaGCFDIUQhQdlIIUmi7YfHx8fHx94gBkuLy4AgBAKYXJyYXkqARsBHAEWAVmAURsQZGF0ZXRpbWUWATJkFiBnZXRfbWF0cml4X21pbm9yMmUWJGRldGVybWluYW50X2hlbHBlcjJmFiB0cmFuc3Bvc2VfbWF0cml4MmcWJnRyYW5zcG9zZUxpc3RNYXRyaXgyaBYcaW52ZXJzZV9oZWxwZXJUMmkQDE1hdHJpeDQCFgERASMAIwEjAiMDIwQjBSMGIwcjCCMJIwojCyMMIw0jDiMPIxAjESMSIxMjFCMVIxYjFw==\n', 'IxgjGSMaIxsjHCMdIx4jHyMgIyEjIiMjIyQjJSMmIycjKCMpIyojKyMsIy0jLiMvIzAjMSMyIzMjNCM1IzYjNyM4IzkjOiM7IzwjPSM+Iz8jQCNBI0IjQyNEI0UjRiNHI0gjSSNKI0sjTCNNI04jTyNQI1EjUiNTI1QjVSNWI1cjWCNZI1ojWyNcI10jXiNfI2AjYSNiI2MrZDQBFgJ4EQ8TARQGbm93NgAWBHN0EQsRCRMGYXJyijQCFgZvdXQRDRMBFA02ABYEZXQRAHsRAREP8zQBWVFjZAZmETY3Ljc3NDcyMzUzMjE4MzkzZhE4OC4xMzA5ODU3NzQxMzM5OQ==\n', 'ZhE0Mi41MjkzMDYzODkzMTAzNGYQMzcuNTQzMjgwNjI3NzI4MWYRMS45MTk4NDU4MDM5Mzc0NTlmETk1LjY0MjEwMTUyNTQzODQzZhEyNi45NDk1MDQ5OTczODEyNWYRNC4wMDk1NjQzMDMzMDMyNDhmEDguODA1MDk1OTc5NDAyMDlmETM5Ljc5MzYzODc5OTYwOTgzZhEzNS4yMjA5MjQ3MTUzNTA4NGYRMzkuNTg3NzgwMjE5MTI3MTZmETQ1LjUxMjc0MjE2NTIzMjE1ZhE1NC4xMjgwNTI5MzkwODY2OGYRNDcuMTgxODE2NjY5OTYxMDNmETkzLjAyODM1Mw==\n', 'MTkzMzIzODhmETMxLjEzOTUwNTYyNjE2Nzc0ZhA1OS43MjAxNTEwMDM3MTE2ZhE1My44MDY1NDMwNTk1MzI2NGYRMjguMjg3NTE4MzU3MTYzMDZmETYwLjkwNzgyOTE0MjgxNTcyZhE1NS43NjA1Mzc0NTI4NzU2N2YRODUuOTUyODM0MTY4MzQ1MDNmETkwLjU5NDA1NDc1NzU3NTk3ZhE5LjE3MTU0MzY1NTc0MTg5OGYRMjMuMDI1NTYwNjc5OTA3NzhmETYwLjk5OTQyNTg4OTkzNjgzZhEzNy40OTkwOTI3NDY0MTUyM2YRMTIuMzgyMjYyMTAzNjk4MTJmEA==\n', 'NDguMTM0MDU2NzA0OTUwOGYRNTkuODEwMDU2MDY1Mjg0MTlmETU1LjY5MDI0MTU5NjgxMTg0ZhEyNi40NzI4NjIzNDYyMTU2OWYRNTUuNjQxNjY0NjcwNTQ3NjhmETk4LjI1ODQ0NDk3ODkwODU2ZhE2Ny40NTkxMTc0MjA0NTAxOWYRMzUuNzA0OTY4NDYwNDQyOTFmETM0LjUzMTY5NDEyNTgyMDA3ZhE4NC4zNDQ2Mzk3MjcyMzM2OWYRNjEuNjEzNDk3NjMxOTAxOTJmETY2LjUwMTE3MDgxODY5NzQ4ZhE1My42NjM3ODIwNDI4NTMxNWYRNTIuNTExNTAzOA==\n', 'Nzg0MjY2NGYRNzUuMjQ4MzU1MTcxNjYwNzhmETU4LjA4ODYzNjc0OTg4NDY5ZhExNy44MjY3MTk3OTQyMDIwNWYRNzQuODc3MTM2MDk4MzQwNzNmETMyLjAwMTkyNTQ2MDc2MzQ3ZhEzLjIxMjU0NjE1Mzg1Njg2NmYRMTkuMzM0OTYyOTU2MDc0OTlmEDQ5Ljg0NzM5NTc1MzY3MzJmETEuMTkxMTc4NjEyNzE5NDc5ZhE5Ljg4MDg5MjYwMTExMzM1NmYROTUuNTIyMTgyNzM3NjM5OThmETI3LjgwNzI0ODAzNjU0NDE3ZhExNi4xMDIzMTU4MTI3MDE0MWYRNQ==\n', 'Ljc3NzM3NTc4NTUzMzczM2YQOS40NDkwMTg4MDQyNzc4MmYRNi4wMTc4NTE5MTEwMTM2MDVmETQ5LjA4MTAwMzk5MTc4MDgzZhAyMi40NzE1MDkxMzI3NTE5ZhE1MS41NDYzMzY4MDk5ODM0OGYRNy4yMjU3NzQ3Mjg0Mzc4MzlmETE0LjYwNTE3NzU5ODgyNTExZhE5MC4wNzc4MTM4MjM0NTY3OGYRNzQuOTA2MzY5OTY0MzM0NjZmETEuNzk0NjAzMDE4MDg4OTkyZhE0Ni4xNTQyNDI0MjU3NjI0OWYRMTIuODQ1MjE5MjMxMDk0ODZmETExLjkxNDA4MDY0NA==\n', 'ODQ2MDVmETkwLjA4MDI3MjYzNzgyOTY5ZhEyMi40OTM1NjYzMDY4MjI0NWYQNTMuNTY0MTQwMDg2MDAxM2YQOTcuNjM2MDExNzIyMDI4OWYRMzIuNzg3NDcyMDQ3MjAxNjJmETY5LjY5MjU5NzY0NzIwMjIxZhE4NS40NTE3OTA3NDM2NTI0MmYRMTEuNjYzOTMzODc4NjM0MzhmETg5LjI3NjM4OTkyMDA3MTI5ZhExOS44MDExNzc0ODEzNDE5M2YRMTYuNzkwNzk5MDcxMzY3NTFmEDQ0LjIzOTE1MDQ0NjcwNDVmETI2LjYzMDkwODAyNjIxMTM3ZhE4MS4zMA==\n', 'NDU5NjI3ODAyODc1ZhE3LjQzMzMzNjIwNDg2NTA0OGYRNzAuMzczMDA3OTA5NzQ5NTFmETcxLjA2NDcyMzg1NjQxMjI1ZhAyNC42NTcwNzgyOTMxMjE4ZhE0NC42MjQ1MTg2MzI1NDMyOGYRNDYuMzYwMjA5NjY4NDA5MjlmETQyLjY2Mzc4OTUyMzI1ODMzZhE3Mi44NTM5NjA2ODQ5MjYxNmYROTAuOTkxMDQwOTY5OTk3MTJmETM2LjI0MTg0MDgyNjM2NzExZhExMy41NTgxMjY1NTc4NzY4N2YRMjMuNDk5MjEwMjEwOTcyMDJmEDM1Ljg2NjYyNzAyODgyMg==\n', 'N2YRNTQuNzE5OTY2NzEyNDg3NzdmETg1LjcxODU2NjI0NzY4NzAzZhA1OC45MDYzODczMTE4MTYxgwTQBJqAARkdgAgxKyskLTEAAAECA7CxsrMgBAQSAHwlAzQBNAHEEgBrtDQBgddEC4ASAHslACUDtDQDWbSAVcUSAGu0NAGBQgyAVycBtbQlAVXyxYHlWFrXQ+5/WVm1YwABDwJpAmoCboIU+QQOFDxsaXN0Y29tcD4LgAgAKwC0X0szAMW1JQHcRPV/JQAlA7X0JQO19CUC8i4CVSUAJQO19CUC8oHyJQO19CUD8i4CVfIvFELKf2MAAAAFAAUABQAFAAWCQA==\n', 'ch4jA4AVJmQgIicoNC4AsYHZRASAsIBVY4DCsYBCJIBXw3+z+bCzVfTEtBIDEg+wgLOxNASxgfM0AvTFsrXlwoHlWFrXQ9Z/WVmyYwAADwuCAPAEFiMLgCQnJx8jALKAQiOAV8SxgEISgFfFsxQAPLC1svS08lU2AVmB5Vha10Pof1lZgeVYWtdD139ZWbNjAAAHCHJvd3MOY29sdW1ucx94MQ4nC4ArABIAbBIAchIAbBIApbBTNQA0AjQBYwAAAm2GDJIQMicFgC9oJmhgIycjJyofITInLCwfgQ4AEhewsTQCwrGB2UQIgIGy9ysBKwFjKwDDsYBCQIBXxCsAxQ==\n', 'sYBCJIBXxhIXsLS2sTQEx7UUADx/tLby+RIDt7GB8zQC9DYBWYHlWFrXQ9Z/WVmzFAA8tTYBWYHlWFrXQ7p/WVkSC7M0AcMSAGuzNAGAQiaAV8QSAGuzNAGAQhCAV8aztFW2VbL3s7RVtlaB5Vha10Pqf1lZgeVYWtdD1H9ZWbNjAAATF4QICEYpDYxZiRhlIIUIhQplYGVgZWCFC4UOhQ6FCoUXZUCFCQARABcWABYQAxYAGlEqAVMzABYAETIBFgBSMgIWDmFkZF9yb3cyAxYCVDIEFgBWMgUWEGdldF9yb3dzMgYWFmdldF9jb2x1bW5zMgcWCmNsb25lMggWGg==\n', 'YWRkX2JpYXNfb25lczIJFhpwb2x5bm9taWFsaXplMgoWDl9fYWRkX18yCxYOX19tdWxfXzIMFhZkZXRlcm1pbmFudDINFhZnZXRfaW52ZXJzZTIOFgAdUWMAD4UEygEuABEZgF0lJC4qLCwmK0IqJS1FJSUsAFCwGBR0cmFuc3Bvc2VksURkgBIAYbGAVRIAbDQCRDWAEgBrsTQBsBgvEgBrsYBVNAGwGC8SCmFycmF5EAJmNAGwGCexX0sMAMKwFABSsjYBWULxf1FjEgBrsTQBsBgJgbAYCRIJEAmxNAKwGAlRY0IYgICwGAmAsBgJEgkQCTQBsBgJUWNRYwAAAA==\n', 'iQ5pbml0aWFseDIOAFIPgHIAsBMFFABSEgkQCbE0AjYBWVFjAAAAiQx0b19hZGSBUCIWJwuAdiAoKSoAsBQAUrE2AVmwEw+A2UQKgBIAa7E0AbAYAbATEYHysBgBUWMAAACJBnJvd4FsGRgpCYB/JigqKikAEis0AMGwExWxGAGwFCk2ALEYD7AUKzYAsRgRsBMd07EYAbFjAAAAiYE4KxIAVg+AiCcuALATA0QOgLATDbKwEwv0sfJVY7ATA7GwEwP0svJVYwAAAIkTDGNvbHVtbnAJEg8NgI4nJQCwEw1EBYCwEwtjsBMPYwAAAIlwCRIRCYCUJyUAsBMJRAWAsA==\n', 'EwdjsBMJYwAAAImCZDEaLQmAmiYnWS4qKgASFTQAwbATC0QZgBI9sBMXsBMPsBMPsRMFNARZQg6AsRMBFABSsBMBNgFZsBQRNgCxGAWwFBM2ALEYCbFjAAAAiYNgQSAvE4ClJidCLysrOiwqABITNADBsBMTRAKAUWMSAGuwExE0AYBCKoBXwrKwEw/4gNlEC4CxEwMUADyBNgFZsRMBFAA8sBMBslU2AVmB5Vha10PQf1lZsBQRNgCB8rEYBbAUETYAsRgRsWMAAACJhBxqIi8RgLMgRi8rKycfKS4qABIRNADCEgBrsBMPNAGAQj+AV8OzsBMN+IDZRAuAshMDFA==\n', 'ADyBNgFZsYBCGIBXxLITARQAPLATAbNVtIHy+TYBWYHlWFrXQ+J/WVmB5Vha10O7f1lZsBQPNgCx9IHyshgFsBQPNgCyGA+yYwAAAIkMZGVncmVlgnSCEBwxEYDBICcqJyofKQCwFBs2AMKxEwmAQjOAV8OzsRMN9MSxEwGAQhiAV8WyExG0tfJYVbEUAFaztTYC5VtWgeVYWtdD4n9ZWYHlWFrXQ8d/WVmyYwAAAIkKb3RoZXKGbJIQLDMNgMsmOCgoKTBCKiosLEIsPj8AEhc0AMISAGGxEgpmbG9hdDQCQwyAEgBhsRIAXjQCRCuAsBMNshgBsBMPshgBsBMPXw==\n', 'SxEAw7ITARQAPLOx9DYBWULsf7JjsBQXNgCyGAWxFBk2ALIYCbIUBzYAgEJRgFfEshQFNgCAQjuAV8WAxrAUATYAgEIYgFfDtrAUAFa0szYCsRQAVrO1NgL05caB5Vha10Pif1lZshMJFAA8tjYBWYHlWFrXQ79/WVmB5Vha10Opf1lZsmMAAACJE3QZEDUTgOIgABI7EhRtZW1vcnl2aWV3sBMLNAGwExM0AmMAAACJgjhJGDkLgOcmKio5KwASGTQAwbAUEzYAsRgXsBQXNgCxGA0SHGludmVyc2VfaGVscGVyEhOwExM0AbAUDTYANAJfSwwAwrEUAFKyNgFZQg==\n', '8X+xYwAAAImEFGkiAB0RgPAnLCQsJiwfJjAmALATJ0QMgBIAl7AUITYANAFjEAZbXG7BsBQTNgCAQkGAV8KxEAJb5cGwFA02AIBCH4BXw7ESAJewEw+ysBQDNgD0s/JVNAEQAizy5cGB5Vha10Pbf1lZsRAIXSxcbuXBgeVYWtdDuX9ZWbEQAl3lwbFjAAAAiQ==\n'), '50feaad0cdcee7ddd0dc0ac2ab2e286ca322a4933eabdcc962d021fffff18d6f'), ('lin_reg_sensor.mpy', ('TQUCHyCWcGB8AAcoLi4vbGluX3JlZ19zZW5zb3IucHkfHx82HyMqSCh3hQ4rK0tlIGVAhQ+JIEWFBywmLEtPKCZZKSkuLlEsL0QfJCAzKCszKTopJjFPTCoAgBAQUHJpbWVIdWIQFkxpZ2h0TWF0cml4EAxCdXR0b24QFlN0YXR1c0xpZ2h0EBZGb3JjZVNlbnNvchAYTW90aW9uU2Vuc29yEA5TcGVha2VyEBZDb2xvclNlbnNvchAGQXBwEBxEaXN0YW5jZVNlbnNvchAKTW90b3IQEk1vdG9yUGFpcioMGwpzcGlrZRwZFgEcGRYBHBkWARwZFgEcGRYBHBkWAQ==\n', 'HBkWARwZFgEcGRYBHBkWARwZFgEcGRYBWYAQIHdhaXRfZm9yX3NlY29uZHMQFHdhaXRfdW50aWwQClRpbWVyKgMbGnNwaWtlLmNvbnRyb2wcBxYBHAcWARwHFgFZgBAABSoBGwhtYXRoaYBRGwxtYXRyaXgWAREjNAAWBmh1YhACQRACQhACQxACRBACRRACRisGFgpwb3J0czIBFhRmaW5kX3RoaW5nEQERIzQBFgptb3RvchEFESs0ARYKY29sb3IRBREJNAEWDG1vdG9yMjICFhpjbGVhcl9idXR0b25zMgMWKnNldHVwX2dldF9zZW5zb3JfZGF0YTIEFhR0cg==\n', 'YWluX21lbnVRKgFTMwUWCnRyYWluMgYWCmNsYW1wMgcWJnByb3BvcnRpb25hbF9hZGp1c3QRFxQecnVuX3RvX3Bvc2l0aW9uIoE0NgFZERFEDIARARQDIoE0NgFZEQ8RFzQBFh5nZXRfc2Vuc29yX2RhdGERKxMabW90aW9uX3NlbnNvchQWd2FzX2dlc3R1cmUQDHRhcHBlZDYBWREbNAAWFHRyYWluX2ZsYWcRAUQZgBEdEQ8RGREZNAMwAxYEeHMWBnkxcxYGeTJzEQB7EQU0AVkRAHsRBTQBWRE9FAxNYXRyaXgRBzYBFgERBRQFEQc2ARYEeXMRBxQcbGluXw==\n', 'cmVncmVzc2lvbhELEQc2AhYIbTFlcREjExhsaWdodF9tYXRyaXgUBm9mZjYAWREFEwUUFHNob3dfaW1hZ2UQDkRJQU1PTkQ2AVmAFgxyb3VuZHMQCmF6dXJlEAhibHVlEAhjeWFuEApncmVlbhAMb3JhbmdlEAhwaW5rEAZyZWQQDHZpb2xldBAMeWVsbG93EAp3aGl0ZSsKFgxzdGF0dXMRHxMYc3RhdHVzX2xpZ2h0FARvbhEHER1VNgFZETs0ABYGcmF3EQEUAF2AgTYCWREzFDcRBTYBFAJUNgAWDmN1cnJlbnQRAHsRATQBWREAXhEBETP0FABWgIA2AjQBIg==\n', 'gmj4Fhp0YXJnZXRfYW5nbGUxEQB7EQE0AVkRDG1vdG9yMkQggBEHEQhtMmVx9BQAVoCANgIWGnRhcmdldF9hbmdsZTIRJnByb3BvcnRpb25hbF9hZGp1c3QRAxEJNAJZQgyAEQptb3RvchQecnVuX3RvX3Bvc2l0aW9uEQ82AVkRHYHyivgWAREgd2FpdF9mb3Jfc2Vjb25kcyMANAFZQlR/UWMBB2YEMC4wNYIgXSIUZmluZF90aGluZyguLi9saW5fcmVnX3NlbnNvci5weYAKIiIoIyUiSCckKgBRwVHCEgpwb3J0c19LGgDDSA4AsLM0AcGzwkAMgIFKBQBZSg==\n', 'AQBdQuN/skQKgBIBFACAsjYBWbFjAAAKdGhpbmeBEAgQGmNsZWFyX2J1dHRvbnMHgBwsABIxExZsZWZ0X2J1dHRvbhQWd2FzX3ByZXNzZWQ2AFkSBRMYcmlnaHRfYnV0dG9uFAU2AFlRYwAAPAkPKnNldHVwX2dldF9zZW5zb3JfZGF0YQuAIQAAsCABAWMAARhjb2xvcl9zZW5zb3JsIQ4QPGxhbWJkYT4FgCEAEgBsJQAUImdldF9yZ2JfaW50ZW5zaXR5NgCAgy4CVTQBYwAAAAWEGBgiFHRyYWluX21lbnUFgCUiLyYgMSI8IyRSAFDAEhETGGxpZ2h0X21hdA==\n', 'cml4FBRzaG93X2ltYWdlEBBHT19SSUdIVDYBWRIbNABZEgkTGm1vdGlvbl9zZW5zb3IUFndhc19nZXN0dXJlEAx0YXBwZWQ2AUQCgLBjEgcTIRQfNgBDDoASBRMhFAU2AEQogLDTwLBEEoASBRMVFACkED82AVlCD4ASBRMFFBcQFzYBWUKmf1FjAACKZNsBRgp0cmFpbhuANCMjIykiLyAuJi8uJi8xJiwxMTEmKi0kTC8xMSIAKwDDKwDEKwDFEBRDSEVTU0JPQVJEEAcrAsaAxxINEw0UDba3VTYBWRIFExUUEzYARBWAt4HzgvjHEgUTCRQJtrdVNgFZEgUTFQ==\n', 'FAk2AEQVgLeB8oL4xxIFEwkUCba3VTYBWRIFExsUGxAbNgFEtIC3gdlERYASBxMLFAZvZmY2AFkSBRMOc3BlYWtlchQIYmVlcCKAWiMDNgJZEgUTBRQFIoBeIwQ2AlkSBRMFFAUigGIjBTYCWbO0tSoDY7MUADywNAA2AVm0FAA8sRQYZ2V0X3Bvc2l0aW9uNgA2AVmyRAyAtRQAPBIBNAA2AVkSBxMLFBMQBllFUzYBWRIHEw0UDSKAWiMGNgJZEgUTBRQFIoBeIwc2AlmAxxIFEwsUC7a3VTYBWULyflFjBQAeZ2V0X3NlbnNvcl9kYXRhCm1vdG9yDG1vdG9yMg==\n', 'ZgQwLjE1ZgQwLjE1ZgQwLjE1ZgQwLjE1ZgQwLjE1XDMOMymAUwASBm1heBIGbWlusrA0ArE0AmMAAAJuCG1pbm4IbWF4boFYOhQmcHJvcG9ydGlvbmFsX2FkanVzdA2AVikqLQCwsRQjNgDzwhIKZmxvb3KyIwL0NAHDEgpjbGFtcLMi/xwigGQ0A8OxFBxzdGFydF9hdF9wb3dlcrM2AVlRYwEAGHRhcmdldF9hbmdsZR1mAzAuMg==\n'), 'ffd9220a27e81b6a0513d2dc91c7a0dd9e90164419f44c9a7f1a41c118e1e6e2'))

def calc_hash(b):
    return hexlify(sha256(b).digest()).decode()

error=False
# try:
#     mkdir('/projects/mpy_robot_tools')
# except:
#     pass

for file, code, hash_gen in encoded:
    print("Writing file ", file)
    # hash_gen=code[1]
    target_loc = '/'+file
    
    print('writing '+file+' to folder /')
    with open(target_loc,'wb') as f:
        for chunk in code:
            f.write(a2b_base64(chunk))
    del code

    try:
        print('Finished writing '+file+', Checking hash.')
        result=open(target_loc,'rb').read()
        hash_check=calc_hash(result)

        print('Hash generated: ',hash_gen)

        if hash_check != hash_gen:
            print('Failed hash of .mpy on SPIKE: '+hash_check)
            error=True
    except Exception as e:
        print(e)


if not error:
    print('Library written succesfully. Reset your hub.')
else:
    print('Failure in writing library!')
